%============================================================================%
% Author : Angel Tezanos Ibañez                                              %
% Author : Pablo Sánchez Barreiro                                            %
% Version: 2.0, 07/04/2011                                                   %
% Master Thesis: Iteración 1                                                 %
%============================================================================%

\chapterheader{Creación de los primeros componentes}{Creación de los primeros componentes}
\label{chap:iteracion1}

Este capítulo trata sobre la primera iteración del proyecto. En ella se desarrolla los componentes más básicos de la aplicación, de forma que el resto de componentes se apoyaran en los creados en esta iteración. Serán mostrados los casos de uso pertenecientes a esta iteración figura \ref{fig:ite1:casoDeUso}, así como los nuevos requisitos descubiertos, tabla \ref{fig:ite1:refinamiento}. A continuación se mostrara el proceso de implementación, y finalmente las pruebas realizadas, para comprobar el correcto funcionamiento y cumplimiento de los requisitos.

\chaptertoc

\section{Objetivos}
\label{sec:iteracion1:porQueEstaIteracion}
    En esta primera iteración se construye la base del proyecto. En ella se crearán los principales componentes de la aplicación. Esto es la interfaz visual de la diapositiva, así como la mesa donde aparecerán una vez importadas. De la misma forma se desarrollará el comportamiento de la diapositiva, su movimiento de \emph{Drag and Drop} y sus opciones de visualización y descarte (o eliminación de la aplicación).

\section{Ingeniería de Requisitos}

En esta sección se muestran los casos de uso que la correspondes y el refinamiento de requisitos, así como la aportación de nuevos.

    \subsection{Casos de uso}
    \label{sec:iteracion1:casosDeUso}
        Los casos de uso de la primera iteración corresponden a las acciones de importar fotografía, moverla (Drag and Drop), visualizarla y descartarla. Como puede observarse en la figura \ref{fig:ite1:casoDeUso}.

        \begin{figure}[!tb]
            \begin{center}
                \includegraphics[width=0.6\linewidth]{iteracion1/images/casoDeUso.eps}
                \caption{Casos de uso de la iteración 1}
                \label{fig:ite1:casoDeUso}
            \end{center}
        \end{figure}

        Un usuario debe poder importar una fotografía a la aplicación, y que una vez seleccionada esta aparezca en la mesa. Este es el primer caso de uso detectado.
        El segundo es que el usuario sea capaz de moverla, y con ello activar los eventos de \emph{Drag and Drop}. Como tercer caso de uno esta, la posibilidad de visualizar la diapositiva, esto es ver la imagen que representa, y no la miniatura que se hizo de ella. Como último caso de uso detectado en esta iteración, está la necesidad de poder descartar diapositivas que no queramos que se encuentren en nuestra aplicación.

    \subsection{Refinamiento de requisitos}
    \label{sec:iteracion1:refinamientoRequisitos}
        Como consecuencia del análisis y diseño de esta iteración surgieron una serie de refinamientos de los requisitos. Véase la figura \ref{fig:ite1:refinamiento}.
        \begin{table}[!htb]
            \begin{center}
                \begin{tabular}{|c|p{9cm}|}
                \hline
                % after \\: \hline or \cline{col1-col2} \cline{col3-col4} ...
                Numero & Nuevo Requisito \\
                \hline \hline
                R01.1 & La importación de Diapositivas debe hacerse desde un hilo aparte, para que no se congele la interfaz de usuario, y este pueda realizar otras operaciones durante el proceso. \\
                \hline
                R01.2 & Debe poderse importar más de una fotografía a la vez. De manera que el usuario no deba importar una por una. \\
                \hline
                R03.1 & Durante la importación se hace necesario ofrecer al usuario un progreso sobre la operación, de manera que sepa en todo momento en que estado va la importación así como cerciorarse de posibles cuelgues, aunque estos no se esperan. \\
                \hline
                R05.1 & Para la realización del Drag \& Drop debe aplicarse algún tipo de sistema para que usuario sea consciente y vea por donde arrastra la diapositiva. \\
                \hline
                \end{tabular}
                \caption{Refinamiento de Requisitos Iteración 1}
                \label{fig:ite1:refinamiento}
            \end{center}
        \end{table}


\section{Implementación}
\label{sec:iteracion1:implementacion}

   En esta sección se describe el proceso de implementación de la primera iteración así como las decisiones tomadas durante esta etapa, de manera que se satisfagan los requisitos descritos en la sección anterior.

    La implementación se realizó empezando por el componente más básico, esto es la lógica de la diapositiva, a esta clase las denominamos \emph{Diapositiva.java}. Posteriormente se creó la interfaz visual de la diapositiva, y su comportamiento interno. A continuación se creó la interfaz visual de la mesa y finalmente el comportamiento de la misma. Cada una de las interfaces visuales se llamas \emph{GUIDiapositiva} y \emph{GUIMesa} respectivamente. Y con ello tenemos ya dos componentes de nuestra aplicación.

    Una vez finalizada \emph{GUIMesa.java} se procedió desarrollar el método que importa una fotografía e integrar está a la ventana principal. Al utilizar la técnica de desarrollo por componentes resulta sumamente sencillo añadir este tipo de widgets o componentes visuales a la ventana principal. Todo este proceso se creó en un nuevo thread\cite{javat}.

    Posteriormente se implementó el resto de componentes necesarios para la realización de la primera iteración, esto es: un menú desde el que se ofrezca la opción de importar fotografía, un menú en cada diapositiva para poder descartarla o visualizarla. Para visualizarla, se optó por delegar la acción al programa que tenga el sistema operativo asignado por defecto para esa tarea.

    Puede verse el aspecto de la aplicación al final de la iteración en la figura \ref{fig:iteracion1:finaliteracion}.

    \begin{figure}[!tb]
            \begin{center}
               \includegraphics[width=0.9\linewidth]{iteracion1/images/finIteracion.eps}
               \caption{Interfaz Gráfica al finalizar la iteración 1}
               \label{fig:iteracion1:finaliteracion}
            \end{center}
    \end{figure}


\section{Pruebas}
\label{sec:iteracion1:pruebas}

    En esta sección se relatan las pruebas realizadas para la comprobación del cumplimiento de los requisitos descritos en la tabla \ref{fig:ite1:refinamiento}.


    Una vez concluida la fase de implementación, realizamos las pruebas necesarias para comprobar que los requisitos que se marcaron en la primera iteración están cumplidos.

    Para ello ejecutamos la aplicación y observamos si los resultados al ejecutar distintas acciones corresponden con los esperados.
    \begin{enumerate}
        \item
            \begin{description}
                \item[Acción:] Pulsar en el menú la opción importar y seleccionar una fotografía.
                \item[Resultado Esperado:] Aparición de la interfaz visual de la diapositiva en la interfaz visual de la mesa.
            \end{description}

        \item
            \begin{description}
                \item[Acción:] Pulsar en el menú la opción importar y seleccionar varias fotografías.
                \item[Resultado Esperado:] Aparición de la interfaz visual de la diapositiva por cada una de las fotografías importadas, en la interfaz visual de la mesa.
            \end{description}

        \item
            \begin{description}
                \item[Acción:] Pulsar con el botón izquierdo del ratón sobre una diapositiva y sin soltarlo desplazar el cursor.
                \item[Resultado Esperado:] Aparición de un efecto que represente el arrastre de la diapositiva seleccionada.
            \end{description}

        \item
            \begin{description}
                \item[Acción:] Pulsar con el botón derecho del ratón sobre una diapositiva y seleccionar la opción visualizar.
                \item[Resultado Esperado:] Visualización de la diapositiva en el programa asignado por defecto del sistema operativo.
            \end{description}

        \item
            \begin{description}
                \item[Acción:] Pulsar con el botón derecho del ratón sobre una diapositiva y seleccionar la opción descartar.
                \item[Resultado Esperado:] Supresión de la diapositiva en cuestión de la mesa. Eliminación de visual de la interfaz.
            \end{description}

        \item
            \begin{description}
                \item[Acción:] Intentar importar una fotografía ficticia, para ello se introduce un nombre ficticio en el cuadro de dialogo y se pulsa aceptar.
                \item[Resultado Esperado:] No aparece ninguna fotografía importada.
            \end{description}
    \end{enumerate}


\section{Sumario}

En este capítulo se habló sobre las acciones que se realizaron durante la primera iteración del proyecto. Se indicaron los casos de uso, y los nuevos requisitos encontrados. También se indicó la forma de implementar los componentes y funcionalidades correspondientes a esta iteración y finalmente se muestran las pruebas realizadas para comprobar el correcto desempeño de las acciones.
